<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trackle‚Ñ¢</title>
    <meta name="theme-color" content="#ffffff" />
    <link href="https://fonts.cdnfonts.com/css/london-tube" rel="stylesheet" />
    <link
      rel="icon"
      type="image/x-icon"
      href="https://cdn.glitch.global/8357f303-720f-4e93-ab5a-fafe557be39c/Underground%20Roundel.ico?v=1697160561957"
    />
    <link rel="manifest" href="/manifest.json" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <img
        src="https://upload.wikimedia.org/wikipedia/commons/c/ca/Underground_%28no_text%29.svg"
        alt="Logo"
      /><br />
      <h1>Trackle‚Ñ¢</h1>
    </header>

    <main>
      <p>
        <b>What is Trackle‚Ñ¢?</b> Trackle‚Ñ¢ is a game, in which players attempt to
        guess all the stations in: the London Underground; the DLR, Cable Car
        and Elizabeth Line; the London Overground; or the London Trams.
      </p>

      <div class="game-buttons">
        <h2>Pick A Game Mode</h2>
        <a href="tube.html">
          <button
            class="styled-button"
            style="background-color: #000f9f"
            onmouseover="this.style.backgroundColor='#030f8a';"
            onmouseout="this.style.backgroundColor='#000f9f';"
          >
            London Underground
          </button>
        </a>
        <a href="DCE.html"
          ><button
            class="styled-button"
            style="background-color: #60399e"
            onmouseover="this.style.backgroundColor='#3c2363';"
            onmouseout="this.style.backgroundColor='#60399E';"
          >
            DLR, Cable Car &amp; Elizabeth Line
          </button></a
        >
        <a href="LO.html"
          ><button
            class="styled-button"
            style="background-color: #fa7b05"
            onmouseover="this.style.backgroundColor='#c2640e';"
            onmouseout="this.style.backgroundColor='#FA7B05';"
          >
            London Overground
          </button></a
        >
        <a href="LT.html"
          ><button
            class="styled-button"
            style="background-color: #5fb526"
            onmouseover="this.style.backgroundColor='#4c8c22';"
            onmouseout="this.style.backgroundColor='#5FB526';"
          >
            London Trams
          </button></a
        >
      </div>
    </main>

    <footer>
      <p>
        <b>Trackle‚Ñ¢Ô∏è &#169; SB Designs 2024</b><br />The name Trackle and its
        logo are trademarks of SB Designs.<br />Version 2.1.0
      </p>
      <!-- Consistent Share Button Design -->
      <button
        id="shareButton"
        class="styled-button"
        style="background-color: #000f9f"
        onmouseover="this.style.backgroundColor='#030f8a';"
        onmouseout="this.style.backgroundColor='#000f9f';"
      >
        üîó Share Trackle‚Ñ¢
      </button>
      <a href="mailto:hello@trackle.serv00.net"
        ><button
          class="styled-button"
          style="background-color: #000f9f"
          onmouseover="this.style.backgroundColor='#030f8a';"
          onmouseout="this.style.backgroundColor='#000f9f';"
        >
          üìß Contact
        </button></a
      >
      <a href="https://sbdesigns.netlify.app"
        ><button
          class="styled-button"
          style="background-color: #000f9f"
          onmouseover="this.style.backgroundColor='#030f8a';"
          onmouseout="this.style.backgroundColor='#000f9f';"
        >
          üñ±Ô∏è SB Designs
        </button></a
      >
    </footer>

    <!-- Install prompt popup -->
    <div id="installPrompt">
      <p>Install the Trackle‚Ñ¢ app for a better experience!</p>
      <button
        id="installButton"
        class="styled-button"
        style="background-color: #000f9f"
        onmouseover="this.style.backgroundColor='#030f8a';"
        onmouseout="this.style.backgroundColor='#000f9f';"
      >
        Install
      </button>
      <button
        id="closeButton"
        class="styled-button close-btn"
        style="background-color: #000f9f"
        onmouseover="this.style.backgroundColor='#030f8a';"
        onmouseout="this.style.backgroundColor='#000f9f';"
      >
        X
      </button>
    </div>

    <script>
      // Install prompt functionality
      let deferredPrompt;
      const installPrompt = document.getElementById("installPrompt");
      const installButton = document.getElementById("installButton");
      const closeButton = document.getElementById("closeButton");

      window.addEventListener("beforeinstallprompt", (e) => {
        e.preventDefault();
        deferredPrompt = e;
        installPrompt.style.display = "block";

        installButton.addEventListener("click", () => {
          installPrompt.style.display = "none";
          deferredPrompt.prompt();
          deferredPrompt.userChoice.then((choiceResult) => {
            if (choiceResult.outcome === "accepted") {
              console.log("User accepted the install prompt");
            } else {
              console.log("User dismissed the install prompt");
            }
            deferredPrompt = null;
          });
        });

        closeButton.addEventListener("click", () => {
          installPrompt.style.display = "none";
        });
      });

      // Share functionality
      const shareButton = document.getElementById("shareButton");

      shareButton.addEventListener("click", async () => {
        if (navigator.share) {
          try {
            await navigator.share({
              title: "Trackle‚Ñ¢",
              text: "Play Trackle‚Ñ¢Ô∏è today and attempt to guess all of the stations on the TfL network! Play now at https://trackle.glitch.me!",
            });
            console.log("Trackle‚Ñ¢ shared successfully!");
          } catch (error) {
            console.error("Error sharing Trackle‚Ñ¢:", error);
          }
        } else {
          alert(
            "Sharing is not supported on this browser. Try using a mobile device."
          );
        }
      });
    </script>
  </body>
</html>
